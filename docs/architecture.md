# Архитектура приложения

## Общее описание

Gophermart - это система лояльности, построенная на принципах чистой архитектуры с разделением на слои.

## Структура проекта

```bash
gophermart/
├── cmd/                    # Точки входа приложения
│   ├── accrual/           # Тестовый сервис начисления баллов (blackbox)
│   └── gophermart/        # Основной сервис
|   └── gophermarttest/    # Бинарники для тестов в разных системах
|   └── randomport/       # Случайный порт для тестов
├── internal/              # Внутренний код приложения
│   ├── app/              # Бизнес-логика
│   ├── config/           # Конфигурация
│   ├── domain/           # Модели и интерфейсы
│   ├── handlers/         # HTTP обработчики
│   ├── middleware/       # Middleware компоненты
│   ├── repository/       # Слой работы с БД
│   └── service/          # Сервисный слой
├── migrations/           # Миграции БД
├── pkg/                  # Переиспользуемые пакеты
└── docs/                 # Документация
```

## Слои приложения

### 1. Presentation Layer (handlers)

- HTTP обработчики
- Валидация входных данных
- Сериализация/десериализация

### 2. Business Layer (service)

- Бизнес-логика
- Координация работы репозиториев
- Транзакции

### 3. Data Layer (repository)

- Работа с БД
- Кеширование
- Маппинг данных

## Основные компоненты

### База данных

[Схема БД будет добавлена позже]

### Аутентификация

- JWT токены
- Middleware авторизации

### Внешние интеграции

- Система начисления баллов (Accrual System)

## Диаграммы

[Будут добавлены позже]
